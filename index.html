<!DOCTYPE html>
<html lang="pt-PT">
  <head>
    <meta charset="UTF-8">
    <title>Hugo Castanho</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { 
        margin: 0; 
        overflow: hidden; 
        background: #000; 
        font-family: 'Arial Black', Impact, sans-serif;
        cursor: none;
      }
      canvas { display: block; }
      
      #custom-cursor {
        position: fixed;
        width: 30px;
        height: 30px;
        border: 2px solid rgba(0, 255, 255, 0.8);
        border-radius: 50%;
        pointer-events: none;
        z-index: 10000;
        transition: transform 0.1s ease;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
      }
      
      #info {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        color: rgba(255, 255, 255, 0.5);
        font-size: 12px;
        z-index: 1000;
        text-align: center;
        pointer-events: none;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <div id="custom-cursor"></div>
    <div id="info">Mova o cursor • Clique para explodir</div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script>
    <script>
      let particles = [];
      const numParticles = 3000; // Reduzido drasticamente
      let explosionForce = 0;
      let colorShift = 0;
      
      function setup() {
        createCanvas(windowWidth, windowHeight);
        
        // Inicializa as partículas
        for (let i = 0; i < numParticles; i++) {
          particles.push(new Particle(random(width), random(height)));
        }
      }
      
      function draw() {
        // Background sólido para melhor performance
        background(0);
        
        colorShift += 1;
        
        // Atualiza e desenha partículas (otimizado)
        for (let p of particles) {
          p.update();
          p.show();
        }
        
        explosionForce *= 0.9;
        
        // Texto espetacular mas otimizado
        drawText();
        
        // Cursor
        updateCursor();
      }
      
      function drawText() {
        push();
        translate(width / 2, height / 2);
        
        // Glow effect (reduzido a 3 camadas)
        for (let i = 3; i > 0; i--) {
          let glowSize = i * 4;
          let glowAlpha = map(i, 0, 3, 120, 20);
          
          let hue = (colorShift * 2) % 360;
          let r = sin(radians(hue)) * 127 + 128;
          let g = sin(radians(hue + 120)) * 127 + 128;
          let b = sin(radians(hue + 240)) * 127 + 128;
          
          stroke(r, g, b, glowAlpha);
          strokeWeight(glowSize);
          noFill();
          textAlign(CENTER, CENTER);
          textSize(70);
          textStyle(BOLD);
          text("CASTANHO.ME", 0, 0);
        }
        
        // Texto principal brilhante
        stroke(255, 255, 255, 255);
        strokeWeight(2);
        fill(255);
        textAlign(CENTER, CENTER);
        textSize(70);
        textStyle(BOLD);
        text("CASTANHO.ME", 0, 0);
        
        pop();
      }
      
      function updateCursor() {
        let cursor = document.getElementById('custom-cursor');
        if (cursor) {
          cursor.style.left = (mouseX - 15) + 'px';
          cursor.style.top = (mouseY - 15) + 'px';
          
          if (mouseIsPressed) {
            cursor.style.transform = 'scale(1.3)';
          } else {
            cursor.style.transform = 'scale(1)';
          }
        }
      }
      
      function mousePressed() {
        explosionForce = 30;
        
        // Explosão otimizada
        let mousePos = createVector(mouseX, mouseY);
        for (let p of particles) {
          let d = dist(p.pos.x, p.pos.y, mouseX, mouseY);
          if (d < 250) {
            let force = p5.Vector.sub(p.pos, mousePos);
            force.normalize();
            force.mult(map(d, 0, 250, 15, 3));
            p.vel.add(force);
          }
        }
      }
      
      function keyPressed() {
        if (key === ' ') {
          for (let p of particles) {
            p.pos = p.origin.copy();
            p.vel.set(0, 0);
          }
        }
      }
      
      function windowResized() {
        resizeCanvas(windowWidth, windowHeight);
      }
      
      class Particle {
        constructor(x, y) {
          this.pos = createVector(x, y);
          this.origin = this.pos.copy();
          this.vel = createVector(0, 0);
          this.acc = createVector(0, 0);
          this.size = random(2, 4);
          this.offset = random(1000);
        }
        
        update() {
          let d = dist(this.pos.x, this.pos.y, mouseX, mouseY);
          
          // Interação com mouse
          if (d < 100) {
            let force = p5.Vector.sub(this.pos, createVector(mouseX, mouseY));
            force.normalize();
            force.mult(map(d, 0, 100, 10, 0));
            this.acc.add(force);
          }
          
          // Força de retorno
          let returnForce = p5.Vector.sub(this.origin, this.pos);
          returnForce.mult(0.01);
          this.acc.add(returnForce);
          
          // Atualiza física
          this.vel.add(this.acc);
          this.vel.limit(4);
          this.vel.mult(0.93);
          this.pos.add(this.vel);
          this.acc.mult(0);
        }
        
        show() {
          let d = dist(this.pos.x, this.pos.y, mouseX, mouseY);
          
          noStroke();
          
          if (d < 120) {
            // Perto do mouse - cores quentes
            let intensity = map(d, 0, 120, 255, 100);
            fill(255, intensity, 0, 220);
            circle(this.pos.x, this.pos.y, this.size * 1.5);
            fill(255, 255, 100, 255);
            circle(this.pos.x, this.pos.y, this.size * 0.5);
          } else {
            // Longe - cores frias
            let hue = (colorShift + this.offset) % 360;
            let r = sin(radians(hue)) * 100 + 155;
            let g = sin(radians(hue + 120)) * 100 + 155;
            let b = sin(radians(hue + 240)) * 100 + 155;
            
            fill(r, g, b, 180);
            circle(this.pos.x, this.pos.y, this.size);
          }
        }
      }
    </script>
  </body>
</html>
